pipeline {
  agent any

  stages {
    stage("Build") {
      steps {
        script {
          echo 'Cloning repository...'
          git 'https://github.com/binitworld/AB'
          echo 'Building HTML, CSS, JavaScript...'
          sh 'npm install'
          sh 'npm run build'
        }
      }
    }

    stage("Test") {
      steps {
        script {
          echo 'Running Tests...'
          // Add commands to run your tests here
          sh 'bpm test'
        }
      }
    }

    stage("Deploy") {
      steps {
        script {
          echo 'Building Docker image...'
          sh 'docker build -t your_docker_username/agilebank:latest .'
          echo 'Pushing Docker image to Docker Hub...'
          sh 'docker push your_docker_username/agilebank:latest'
          echo 'Deploying to Server...'
          // Add deployment commands here
        }
      }
    }
  }

  post {
    always {
      script {
        echo 'Performing Cleanup...'
        sh 'npm clean'
      }
    }
  }
}
